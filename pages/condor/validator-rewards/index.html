<!doctype html>
<html lang="en" dir="ltr" class="mdx-wrapper mdx-page plugin-pages plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.0">
<title data-rh="true">validator rewards in Casper 2.0 | Casper Docs - Redux</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://docs-redux.melpadden.com/pages/condor/validator-rewards/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="validator rewards in Casper 2.0 | Casper Docs - Redux"><meta data-rh="true" name="description" content="A discussion of validator rewards under Casper 2.0"><meta data-rh="true" property="og:description" content="A discussion of validator rewards under Casper 2.0"><link data-rh="true" rel="icon" href="/icon/favicon.ico"><link data-rh="true" rel="canonical" href="http://docs-redux.melpadden.com/pages/condor/validator-rewards/"><link data-rh="true" rel="alternate" href="http://docs-redux.melpadden.com/pages/condor/validator-rewards/" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs-redux.melpadden.com/pages/condor/validator-rewards/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://JFUJ1F4WMS-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Casper Docs - Redux" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.de0d0c2d.css">
<script src="/assets/js/runtime~main.8f7bc268.js" defer="defer"></script>
<script src="/assets/js/main.b9b39277.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/icon/Casper_Wordmark_Red_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/icon/Casper_Wordmark_Red_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/concepts/">Concepts</a><a class="navbar__item navbar__link" href="/developers/">Developers</a><a class="navbar__item navbar__link" href="/operators/">Operators</a><a class="navbar__item navbar__link" href="/users/">Users</a><a class="navbar__item navbar__link" href="/resources/">Resources</a><a class="navbar__item navbar__link" href="/resources/quick-start/">Tutorials</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pages/condor/">Condor Articles</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://github.com/casper-network/docs-redux/issues/new?template=feedback.yml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Submit Feedback</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/">2.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/next/">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/">2.0.0</a></li><li><a class="dropdown__link" href="/1.5.X/">1.5.X</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><main class="container container--fluid margin-vert--lg"><div class="row mdxPageWrapper_j9I6"><div class="col col--8"><article><header><h1>Validator rewards with Casper 2.0</h1></header>
<p>In this post we discuss the changes to validator rewards in Casper v2.0.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="economics-of-consensus">Economics of consensus<a href="#economics-of-consensus" class="hash-link" aria-label="Direct link to Economics of consensus" title="Direct link to Economics of consensus">​</a></h2>
<p>Proof of Stake consensus protocols explicitly impose an assumption that a critical portion of the validator set, by weight, remains honest. Normally, just as it is in Highway and will be in Zug, there is a requirement that at least 2/3 of the weight remain honest for the chain to continue to operate normally.</p>
<p>Proof of Stake protocols do not typically describe the particular incentives that should keep validators honest, however, so some incentive scheme must be independently developed to ensure that the assumptions of the safety and liveness theorems actually hold. Such a scheme may directly reward some measure of performance within the protocol model, but an alternative model can choose to reward consensus-independent measures of chain performance, such as chain progress.</p>
<p>Incentive rewards in Casper come from issuance of new token at the end of each era, with quantity derived from an inflation parameter in the chainspec. The minted token are distributed in proportion to weight, assuming nominal performance of the chain.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="casper-1x-highway-specific-incentives">Casper 1.X Highway-specific incentives<a href="#casper-1x-highway-specific-incentives" class="hash-link" aria-label="Direct link to Casper 1.X Highway-specific incentives" title="Direct link to Casper 1.X Highway-specific incentives">​</a></h2>
<p>The 1.0 rewards scheme introduced with Highway on mainnet is directly tied to the details of Highway consensus. Rewards are maximized when all validators regularly send messages necessary to finalize a block within a time limit in a particular round.</p>
<p>Degrading platform performance by delaying block finalization is disadvantageous for all validators, even those not directly responsible for the delay, which is a means of aligning validator incentives with each other by discouraging censorship of consensus messages produced by others.</p>
<p>The weakness of the 1.0 rewards model is that it is difficult to understand and maintain. Additionally, by focusing on a consensus-specific measure of performance, it does not directly incentivize the observable outcome that we actually care about, which is public knowledge of block finality.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="casper-20">Casper 2.0<a href="#casper-20" class="hash-link" aria-label="Direct link to Casper 2.0" title="Direct link to Casper 2.0">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="public-knowledge-of-finality">Public knowledge of finality<a href="#public-knowledge-of-finality" class="hash-link" aria-label="Direct link to Public knowledge of finality" title="Direct link to Public knowledge of finality">​</a></h3>
<p>A necessary outcome of a safe consensus process over possible histories of the chain is that all honest validators should have at least mutual knowledge of the canonical history. That is, each honest validator should believe that a particular history is the correct one, and this history should be the same for all validators.</p>
<p>This mutual knowledge is sufficient for validators to make further progress in building up the canonical history. However, for a user of the blockchain, establishing confidence in the correct operation of the protocol and the identity of the canonical history requires that the validators&#x27; knowledge of the canonical history be attested publicly.</p>
<p>In Casper, validators create and distribute finality signatures, which are cryptographically secure witnesses of their belief in the finality of a particular block. Under 1.X, however, these are not easily verifiable by users and play no role in the reward mechanism, despite being a critical tool for building user confidence in the canonical history. In 2.0, we propose to allocate rewards for creation and publication of one&#x27;s own and other validators&#x27; finality signatures.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="design">Design<a href="#design" class="hash-link" aria-label="Direct link to Design" title="Direct link to Design">​</a></h3>
<p>Rewards that promote public knowledge of finality naturally suggest rewarding publicly observable behaviors, rather than metrics only readily visible to the consensus component. This, together with the expected transition from Highway to Zug, naturally led to a system that rewards three publicly observable activities</p>
<ul>
<li>Block proposal</li>
<li>Signature creation</li>
<li>Signature publication</li>
</ul>
<p>Note that we expect very little, if any, rewards to be allocated for block proposals on mainnet, but the feature remains available.</p>
<p>The rewards apportioned to a block, under nominal operating conditions, are the same as they are under 1.X, that is, they amount to total supply at last era&#x27;s end multiplied by an inflation factor derived from the chainspec. &quot;Nominal&quot; here means that all rounds result in a finalized block and that all finality signatures are collected and published.</p>
<p>The rewards are apportioned to these three activities based on chainspec settings governing the split between block proposals and signature rewards, and, within signature rewards, between finality signature creation and publication.</p>
<p>Note that this split ensures that validators&#x27; incentives are aligned, in the sense that other validators&#x27; correct operation is beneficial for each validator. This is because each validator is rewarded for publishing other validators&#x27; signature, and because each validator benefits from other publishing its own signatures.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="expected-rewards--volatility">Expected rewards &amp; volatility<a href="#expected-rewards--volatility" class="hash-link" aria-label="Direct link to Expected rewards &amp; volatility" title="Direct link to Expected rewards &amp; volatility">​</a></h4>
<p>Under nominal operating conditions, the total rewards for each validator will be proportional to weight in the long run. Depending on the particular values of the parameters governing the split between the three components of the rewards, short-run rewards can be more or less variable.</p>
<p>In the long run, with a stable validator set, each validator eventually produces a number of blocks proportional to its weight. Small validators can do months between producing a block, and will experience variable wait times between such occasions. However, each validator is supposed to produce signatures for each finalized block, so moving the allocation towards signature creation can reduce volatility.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rewards-formula">Rewards formula<a href="#rewards-formula" class="hash-link" aria-label="Direct link to Rewards formula" title="Direct link to Rewards formula">​</a></h4>
<p>The rewards have three additive components, one for each observable activity we described in the previous section. The era rewards for a particular validator can be described using a simple formula, given below. Note that the formula does not exactly correspond to the actual on-chain calculation, for technical reasons we discuss in a further section.</p>
<p>Let us define some notation first</p>
<p><strong>N</strong> - expected number of blocks in an era</p>
<p><strong>N</strong>* - the <em>set</em> of observed blocks in an era</p>
<p><strong>R</strong> - total potential reward pot for the era (i.e., nominal inflation based on chainspec and current supply)</p>
<p><strong>r</strong> - fraction of reward pot dedicated to block production rewards</p>
<p><strong>f</strong> - finder&#x27;s fee for finality signatures</p>
<p><strong>I</strong> - validator index set</p>
<p><strong>i</strong>: <strong>N</strong>* -&gt; {0,1} - indicator function for blocks produced by validator i (with abuse of notation)</p>
<p><strong>w</strong>: <strong>I</strong> -&gt; [0,1] - validator&#x27;s weight</p>
<p><strong>W</strong> - total weight of the validator set</p>
<p><strong>S</strong>: <strong>N</strong>* -&gt; <strong>P(I)</strong> - set of validators associated with finality signatures for a particular observed block</p>
<p><strong>s_i</strong>: <strong>N</strong>* -&gt; {0,1} - indicator functions for existence of finality signatures associated with validator i for particular observed blocks</p>
<p>Now, we can use our defined symbols to concisely describe era rewards for a particular validator</p>
<p>Era rewards for validator i =</p>
<p><strong>Σ</strong> (n in <strong>N</strong>*) <strong>i(n)</strong> * (<strong>rR/N</strong>) (block production)</p>
<p>+ <strong>Σ</strong> (n in <strong>N</strong>*) <strong>i(n)</strong> * <strong>Σ</strong> (j in <strong>S(n)</strong>) (<strong>w(j)/W</strong>) * (<strong>f(1-r)R/N</strong>) (finality signature publication)</p>
<p>+ <strong>Σ</strong> (n in <strong>N</strong>*) <strong>s_i(n)</strong> * (<strong>w(i)/W</strong>) * (<strong>(1-f)(1-r)R/N</strong>) (finality signature contribution)</p>
<p>The meanings of the three additive components in the formula above are, in order</p>
<ul>
<li>Sum over blocks, discarding blocks not proposed by this validator
<ul>
<li>For each block, add the per-block reward allocation for block proposals from the total pot for the era</li>
</ul>
</li>
<li>Sum over blocks, discarding blocks not proposed by this validator
<ul>
<li>For each block, sum over published signatures
<ul>
<li>For each signature, add the per-block reward allocation for signature publication from the total pot for the era, weighing each signature by its creator&#x27;s proportion of total validator weight</li>
</ul>
</li>
</ul>
</li>
<li>Sum over blocks, discarding those for which this validator did not create a signature
<ul>
<li>For each block, add the per-block reward allocation for signature creation from the total pot for the era, weighing it by the validator&#x27;s proportion of total validator weight</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notes-on-implementation">Notes on implementation<a href="#notes-on-implementation" class="hash-link" aria-label="Direct link to Notes on implementation" title="Direct link to Notes on implementation">​</a></h4>
<p>In a real network, messages arrive with a delay. This means that we cannot guarantee that all finality signatures for an era will arrive in time to be used by the rewards calculation carried out in the switch block.</p>
<p>We solve this problem by allowing publication of finality signatures for a preceding era. As long as the validator set stays unchanged, in the long run the formula above is a near-exact representation of rewards.</p>
<p>However, entry of new validators means that some of the publication rewards may be distributed among more validators than just those who participated in the era in which the signatures were created.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-validator-revenue">Impact on validator revenue<a href="#impact-on-validator-revenue" class="hash-link" aria-label="Direct link to Impact on validator revenue" title="Direct link to Impact on validator revenue">​</a></h3>
<p>No impact is expected on average validator rewards under nominal operating conditions. Note that shortfall in signature creation, or network issues preventing the propagation of such signatures, can reduce rewards, even for validators who honestly publish all incoming signatures and honestly create signatures for each block. Additionally, allocating more rewards to block proposals or finality publication can make the rewards more volatile.</p></article></div><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#economics-of-consensus" class="table-of-contents__link toc-highlight">Economics of consensus</a></li><li><a href="#casper-1x-highway-specific-incentives" class="table-of-contents__link toc-highlight">Casper 1.X Highway-specific incentives</a></li><li><a href="#casper-20" class="table-of-contents__link toc-highlight">Casper 2.0</a><ul><li><a href="#public-knowledge-of-finality" class="table-of-contents__link toc-highlight">Public knowledge of finality</a></li><li><a href="#design" class="table-of-contents__link toc-highlight">Design</a></li><li><a href="#impact-on-validator-revenue" class="table-of-contents__link toc-highlight">Impact on validator revenue</a></li></ul></li></ul></div></div></div></main></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://support.casperlabs.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://discord.com/invite/casperblockchain" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://github.com/casper-network/docs-redux" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a class="footer__link-item" position="right" href="/pages/condor/validator-rewards/disclaimer.md/">Disclaimer</a></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://casper.network/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/icon/Casper_Wordmark_Horizontal_Red_RGB.png" alt="Casper Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="120" height="30"><img src="/icon/Casper_Wordmark_Horizontal_White_RGB.png" alt="Casper Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="120" height="30"></a></div><div class="footer__copyright">Copyright © 2024 Casper Association. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>